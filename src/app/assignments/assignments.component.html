<h2>{{titre}}</h2>

<main class="container">
    <nav class="ajouterBtn">
        <a routerLink="/add">
            <button mat-flat-button color="accent"> Ajouter Assignment
            </button>
        </a>
    </nav>



    <mat-divider></mat-divider>
    <p>
        Nb assignments total <b>{{totalDocs}}</b>, par page <b>{{limit}}</b>, nbPages <b>{{totalPages}}</b>
    </p>
    <p>
        Régler nombre d'assignment par page ({{limit}} actuellement):
        <!--
        <input mat-input type="range" min=1 max=100 value=10 [(ngModel)]="limit" (change)="getAssignments()" /> {{limit}}
-->
        <mat-slider min="1" max="100" step="1" showTickMarks discrete  >
            <input matSliderThumb [(ngModel)]="limit" (change)="getAssignments()">
        </mat-slider>
    </p>
    <p class="paginator-container">
        <button mat-button (click)="premierePage()" [disabled]="!hasPrevPage">
            Première page
        </button>
        <button mat-button (click)="pagePrecedente()" [disabled]="!hasPrevPage">
            Page Précédente
        </button>
        <button mat-button (click)="pageSuivante()" [disabled]="!hasNextPage">Page Suivante</button>
        <button mat-button (click)="dernierePage()" [disabled]="!hasNextPage">
            Derniere page
        </button>
    </p>


    <h1>Liste des assignments</h1>
    <app-assignments-drag-and-drop [assignments]="assignments"></app-assignments-drag-and-drop>

    <!--
    <div class="assignment-list">
        <mat-card class="assignment-card" *ngFor="let a of assignments">
            <mat-card-header>
                <div mat-card-avatar class="example-header-image">
                    <img class="avatar" src="{{a.auteur.photo}}">
                </div>
                <mat-card-title>Par {{a.auteur.nom}}</mat-card-title>
                <mat-card-subtitle>{{a.nom}}</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-image src="{{a.matiere.photo}}" alt="{{a.matiere.nom}}">
            <mat-card-content>
                <h3 mat-subheader>Date limite: {{a.dateDeRendu | date: 'dd/MM/yy'}}</h3>
                <p><b>Matière : </b>{{a.matiere.nom}}</p>
    
                <div appRendu *ngIf="a.rendu; else nonsoumis">
                    <p>{{a.nom}} id = {{a._id}}</p>
                    <p><b>Note : </b>{{a.note}}</p>
                    <p *ngIf="a.remarques"><b>Remarques : </b>{{a.remarques}}</p>
                </div>
                <ng-template #nonsoumis>
                    <p>{{a.nom}} NON RENDU id = {{a._id}}</p>
                </ng-template>
                <div class="prof-container">
                    <p><b>Photo du prof</b></p>
                    <div mat-card-avatar class="example-header-image">
                        <img class="avatar" src="{{a.matiere.prof.photo}}">
                    </div>
                </div>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button routerLink="/assignments/{{a.id}}">Voir les détails</button>
            </mat-card-actions>
        </mat-card>
    </div>
    -->

</main>